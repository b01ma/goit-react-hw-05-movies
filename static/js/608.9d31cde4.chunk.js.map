{"version":3,"file":"static/js/608.9d31cde4.chunk.js","mappings":"kPACA,EAA4B,0BAA5B,EAAkE,0BAAlE,EAAoG,sBAApG,EAAuI,2B,SCCvI,ECGe,WACb,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,eAEMC,GAASC,EAAAA,EAAAA,UACb,kBAAMC,OAAOC,aAAP,OAAuBJ,MAC7B,CAACA,IAEKK,EAAsBJ,EAAtBI,YAAaC,EAASL,EAATK,KAqBrB,OAnBAC,EAAAA,EAAAA,YAAU,WACJF,IACFG,EAAAA,EAAAA,IAAmBH,EAAaC,GAC7BG,MAAK,SAAAC,GAEFZ,EADEQ,EAAO,EACC,SAAAT,GAAM,wBAAQA,IAAR,OAAmBa,EAASC,KAAKC,WAEvCF,EAASC,KAAKC,YAG3BC,OAAM,SAAAC,GACLC,QAAQC,IAAI,SAAUF,EAAEG,YAEzBC,SAAQ,iBAIZ,CAACb,EAAaC,KAGf,iBAAKa,UAAWC,EAAhB,WACE,SAAC,KAAD,KACA,eAAID,UAAWC,EAAf,gBACGvB,QADH,IACGA,OADH,EACGA,EAAQwB,KAAI,SAAAC,GACX,OACE,2BACE,0BACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAA3B,UACE,gBACEL,UAAWC,EACXK,IAAG,UAAKC,EAAAA,GAAL,eAAwBJ,EAAMK,aACjCC,IAAI,gBAIV,0BACE,SAAC,KAAD,CAAMT,UAAWC,EAAgBG,GAAE,kBAAaD,EAAME,IAAtD,SACGF,EAAMO,qBAZJP,EAAME,c,qMCtCrBM,EAAM,mCACNC,EAAW,gCACJL,EAAe,8BAEflB,EAAqB,SAACwB,GAAD,IAAQ1B,EAAR,uDAAe,EAAf,OAChC2B,IAAAA,IAAA,UACKF,EADL,gCACqCD,EADrC,kBACkDE,EADlD,iBACgE1B,EADhE,0BAOW4B,EAAoB,kBAC/BD,IAAAA,IAAA,UAAaF,EAAb,qCAAkDD,KAEvCK,EAAkB,SAAAC,GAAO,OACpCH,IAAAA,IAAA,UAAaF,EAAb,iBAA8BK,EAA9B,oBAAiDN,KAEtCO,EAAkB,SAAAD,GAAO,OACpCH,IAAAA,IAAA,UAAaF,EAAb,iBAA8BK,EAA9B,4BAAyDN,KAE9CQ,EAAe,SAAAF,GAAO,OACjCH,IAAAA,IAAA,UAAaF,EAAb,iBAA8BK,EAA9B,4BAAyDN","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/index.js","pages/Movies/Movies.jsx","service/moviesAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"movieList\":\"Movies_movieList__FD6N4\",\"image\":\"Movies_image__vvLaG\",\"movieTitle\":\"Movies_movieTitle__lz38M\"};","import Movies from './Movies';\n\nexport default Movies;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { Outlet, Link, useSearchParams } from 'react-router-dom';\nimport { BASE_IMG_URL, searchMovieByQuery } from 'service/moviesAPI';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams] = useSearchParams();\n\n  const params = useMemo(\n    () => Object.fromEntries([...searchParams]),\n    [searchParams]\n  );\n  const { searchQuery, page } = params;\n\n  useEffect(() => {\n    if (searchQuery) {\n      searchMovieByQuery(searchQuery, page)\n        .then(response => {\n          if (page > 1) {\n            setMovies(movies => [...movies, ...response.data.results]);\n          } else {\n            setMovies(response.data.results);\n          }\n        })\n        .catch(e => {\n          console.log('error:', e.message);\n        })\n        .finally(() => {\n          // setIsLoading(false);\n        });\n    }\n  }, [searchQuery, page]);\n\n  return (\n    <div className={css.container}>\n      <Outlet />\n      <ul className={css.movieList}>\n        {movies?.map(movie => {\n          return (\n            <li key={movie.id}>\n              <div>\n                <Link to={`/movies/${movie.id}`}>\n                  <img\n                    className={css.image}\n                    src={`${BASE_IMG_URL}w200${movie.poster_path}`}\n                    alt=\"Poster\"\n                  />\n                </Link>\n              </div>\n              <div>\n                <Link className={css.movieTitle} to={`/movies/${movie.id}`}>\n                  {movie.original_title}\n                </Link>\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst KEY = 'e50a0796fa32a6e301b6994e783be864';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nexport const BASE_IMG_URL = 'https://image.tmdb.org/t/p/';\n\nexport const searchMovieByQuery = (query, page = 1) =>\n  axios.get(\n    `${BASE_URL}search/movie?api_key=${KEY}&query=${query}&page=${page}&include_adult=false`\n  );\n\nexport const getGenreList = () =>\n  axios.get(`${BASE_URL}genre/movie/list?api_key=${KEY}&language=en-US`);\n\nexport const getTrendingMovies = () =>\n  axios.get(`${BASE_URL}trending/all/week?api_key=${KEY}`);\n\nexport const getMovieDetails = movieId =>\n  axios.get(`${BASE_URL}movie/${movieId}?api_key=${KEY}`);\n\nexport const getMovieReviews = movieId =>\n  axios.get(`${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}`);\n\nexport const getMovieCast = movieId =>\n  axios.get(`${BASE_URL}movie/${movieId}/credits?api_key=${KEY}`);\n\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=<<api_key>>&language=en-US\n"],"names":["useState","movies","setMovies","useSearchParams","searchParams","params","useMemo","Object","fromEntries","searchQuery","page","useEffect","searchMovieByQuery","then","response","data","results","catch","e","console","log","message","finally","className","css","map","movie","to","id","src","BASE_IMG_URL","poster_path","alt","original_title","KEY","BASE_URL","query","axios","getTrendingMovies","getMovieDetails","movieId","getMovieReviews","getMovieCast"],"sourceRoot":""}